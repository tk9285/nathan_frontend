{"ast":null,"code":"var _jsxFileName = \"/Users/gracehsong/ga/week12/my-ecommerce-app-front-end/src/components/App.js\";\nimport React, { Component } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport ProductList from \"./ProductList\";\nimport ProductDetails from \"./ProductDetails\";\nimport HomePage from \"./Homepage\";\nimport CartList from \"./CartList\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      basket: [],\n      selectedProduct: null,\n      searchTerm: \"\",\n      user: {\n        first_name: \"\",\n        last_name: \"\"\n      }\n    };\n\n    this.addToMyCart = product => {\n      const myCart = this.state.basket;\n      const cartItem = myCart.find(cartItem => cartItem.product.id === product.id);\n\n      if (cartItem) {\n        cartItem.quantity++;\n        this.setState({});\n      } else {\n        const basket = [...myCart, {\n          product,\n          quantity: 1\n        }];\n        this.setState({\n          basket\n        });\n      }\n    };\n\n    this.removeFromBasket = product => {\n      const myCart = this.state.basket;\n      const cartItem = myCart.find(cartItem => cartItem.product.id === product.id);\n\n      if (cartItem && cartItem.quantity > 1) {\n        cartItem.quantity--;\n        this.setState({});\n      } else if (cartItem) {\n        this.deleteFromBasket(product);\n      }\n    };\n\n    this.deleteFromBasket = product => {\n      const myCart = this.state.basket;\n      const basket = myCart.filter(cartItem => cartItem.product.id !== product.id);\n      this.setState({\n        basket\n      });\n    };\n\n    this.viewDetails = product => {\n      this.setState({\n        selectedProduct: product\n      });\n    };\n  }\n\n  // const URL = \"localhost/3000\"\n  componentDidMount() {\n    window.removeFromBasket = this.removeFromBasket;\n    fetch(\"http://localhost:3000/products\").then(resp => resp.json()).then(products => this.setState({\n      products\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      products: this.state.products,\n      basket: this.state.basket,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: prop => React.createElement(HomePage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/products\",\n      component: props => React.createElement(ProductList, Object.assign({}, props, {\n        products: this.state.products,\n        viewDetails: this.viewDetails,\n        addToMyCart: this.addToMyCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/checkout\",\n      component: props => React.createElement(CartList, Object.assign({}, props, {\n        basket: this.state.basket,\n        deleteFromBasket: this.deleteFromBasket,\n        removeFromBasket: this.removeFromBasket,\n        addToMyCart: this.addToMyCart,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/products/:id\",\n      component: props => {\n        const id = props.match.params.id;\n        const product = this.state.products.find(product => product.id == id);\n        if (this.state.products.length === 0) return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"Loading...\");\n        if (this.state.products.length > 0 && product === undefined) return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, \"Product not found!\");\n        return React.createElement(ProductDetails, Object.assign({}, props, {\n          product: product,\n          addToMyCart: this.addToMyCart,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Route, {\n      component: props => React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"404 - not Found\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gracehsong/ga/week12/my-ecommerce-app-front-end/src/components/App.js"],"names":["React","Component","Route","Switch","Navbar","ProductList","ProductDetails","HomePage","CartList","App","state","products","basket","selectedProduct","searchTerm","user","first_name","last_name","addToMyCart","product","myCart","cartItem","find","id","quantity","setState","removeFromBasket","deleteFromBasket","filter","viewDetails","componentDidMount","window","fetch","then","resp","json","render","prop","props","match","params","length","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Route, Switch } from \"react-router-dom\";\n\nimport Navbar from \"./Navbar\";\nimport ProductList from \"./ProductList\";\nimport ProductDetails from \"./ProductDetails\";\nimport HomePage from \"./Homepage\";\nimport CartList from \"./CartList\";\n\nclass App extends Component {\n  state = {\n    products: [],\n    basket: [],\n    selectedProduct: null,\n    searchTerm: \"\",\n    user: {\n      first_name: \"\",\n      last_name: \"\"\n    }\n  };\n\n  addToMyCart = product => {\n    const myCart = this.state.basket;\n    const cartItem = myCart.find(\n      cartItem => cartItem.product.id === product.id\n    );\n    if (cartItem) {\n      cartItem.quantity++;\n      this.setState({});\n    } else {\n      const basket = [...myCart, { product, quantity: 1 }];\n      this.setState({ basket });\n    }\n  };\n\n  removeFromBasket = product => {\n    const myCart = this.state.basket;\n    const cartItem = myCart.find(\n      cartItem => cartItem.product.id === product.id\n    );\n    if (cartItem && cartItem.quantity > 1) {\n      cartItem.quantity--;\n      this.setState({});\n    } else if (cartItem) {\n      this.deleteFromBasket(product);\n    }\n  };\n\n  deleteFromBasket = product => {\n    const myCart = this.state.basket;\n    const basket = myCart.filter(\n      cartItem => cartItem.product.id !== product.id\n    );\n    this.setState({ basket });\n  };\n\n  // const URL = \"localhost/3000\"\n\n  componentDidMount() {\n    window.removeFromBasket = this.removeFromBasket;\n    fetch(\"http://localhost:3000/products\")\n      .then(resp => resp.json())\n      .then(products => this.setState({ products }));\n  }\n\n  viewDetails = product => {\n    this.setState({\n      selectedProduct: product\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Navbar products={this.state.products} basket={this.state.basket} />\n        {/* Switch statement in order to create a 404 Page only in case the URL is wrong */}\n        <Switch>\n          <Route exact path=\"/\" component={prop => <HomePage />} />\n          <Route\n            exact\n            path=\"/products\"\n            component={props => (\n              <ProductList\n                {...props}\n                products={this.state.products}\n                viewDetails={this.viewDetails}\n                addToMyCart={this.addToMyCart}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/checkout\"\n            component={props => (\n              <CartList\n                {...props}\n                basket={this.state.basket}\n                deleteFromBasket={this.deleteFromBasket}\n                removeFromBasket={this.removeFromBasket}\n                addToMyCart={this.addToMyCart}\n              />\n            )}\n          />\n          <Route\n            path=\"/products/:id\"\n            component={props => {\n              const id = props.match.params.id;\n              const product = this.state.products.find(\n                product => product.id == id\n              );\n\n              if (this.state.products.length === 0) return <h1>Loading...</h1>;\n\n              if (this.state.products.length > 0 && product === undefined)\n                return <h1>Product not found!</h1>;\n\n              return (\n                <ProductDetails\n                  {...props}\n                  product={product}\n                  addToMyCart={this.addToMyCart}\n                />\n              );\n            }}\n          />\n          <Route component={props => <h1>404 - not Found</h1>} />\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}